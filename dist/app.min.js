var _0x382e=['isPlaying','noteIndexToString','toString','baseOctave','sequence','removeAll','triggerAttackRelease','start','Transport','theme-red','#db7a7a','#e58a8a','#e8c5c5','#6c0b0b','pianoDarkTextColor','#888','#DDD','#1ba7d1','#077c9f','#56deff','#FFF','#CCC','#333','#555','pianoStripeColor','#e09191','#af4646','#c48282','#ffffff','#be4f4f','#fffa80','#edcfcf','#7CBFDA','#6EAAC2','cssClass','theme-blue','#6bbde2','#cfe1f0','#13b4db','8px\x20sans-serif','#c4e2fc','#1c5d95','#5495cc','pianoLEDOffColor','#b6d8f5','#e2988e','#d17669','$input','$title','noteEngine','chordEngine','scaleEngine','pianoView','parser','activeNotes','updateActiveNotes','soundEngine','queueNotes','clear','draw','highlightedNotes','rootNotes','process','length','remove','validCommandCSSClass','commandEngine','classList','add','includes','root','getNotesFromQuery','getURLFromQuery','$link','hiddenCSSClass','href','toggleSoundEngine','play','isLEDOn','stop','processInput','value','getQueryFromURL','onresize','bind','onkeyup','preventDefault','keyCode','execute','transposeQuery','onkeydown','oninput','onclick','settings','toggleTheme','playCallback','ctx','highlightStyle','shadowStyle','highlightSpeckStyle','fillRect','fillStyle','shadowSize','highlightSize','beginPath','moveTo','lineTo','closePath','createLinearGradient','addColorStop','getNotesFromSymbol','findRoot','noteStringToIndex','findSharps','sus4','dim','aug','M11','M13','maj7','maj9','maj11','maj13','totalNotes','push','scaleIntervals','major','forEach','lettersKeyword','showKeyword','show','hideKeyword','hide','isCommand','isValidCommand','isShowingLetters','totalOctaves','notesPerOctave','hidden','addEventListener','DOMContentLoaded','getElementById','query','canvas','link','keys','sharpNoteNames','flatNoteNames','findSymbols','indexOf','exec','index','substr','areSameRootNotes','includesRoot','match','map','trim','replace','hasIsolatedRoot','search','findOctave','altNoteNames','findFlats','slice','?q=','$canvas','drawShadow','activeTheme','primaryShadowColor2','primaryShadowColor1','fill','getContext','body','innerWidth','innerHeight','height','primaryBackgroundColor','pianoBackgroundColor','pianoHighlightColor','pianoHighlightSpeckColor','pianoShadowColor','pianoKeybedBackgroundColor','pianoStripeHighlightColor','pianoKnobShadowColor','pianoOuterKnobHighlightColor','pianoOuterKnobColor','pianoInnerKnobColor','arc','strokeStyle','pianoLEDBorderColor','lineWidth','pianoLEDOnColor','stroke','floor','pianoLightTextColor','pianoNoteSelectedColor','pianoNoteSelectedShadowColor','pianoNoteHighlightedShadowColor','pianoNoteRootDotColor','pianoWhiteNoteColor','pianoWhiteNoteShadowColor','pianoLettersFont','fillText','pianoNoteHighlightedColor','pianoBlackNoteColor','pianoBlackNoteHighlightColor','isScale','[ABCDEFG](#|b)?\x5cs+(','join','test','scaleNames','toLowerCase','concat','sort','all','activeThemeIndex','synth','Synth','toMaster'];(function(_0x4651b9,_0x168004){var _0x521205=function(_0x172ead){while(--_0x172ead){_0x4651b9['push'](_0x4651b9['shift']());}};_0x521205(++_0x168004);}(_0x382e,0x10b));var _0x3f15=function(_0x36259c,_0x4ade06){_0x36259c=_0x36259c-0x0;var _0x557981=_0x382e[_0x36259c];return _0x557981;};class App{constructor(_0x2db670,_0x5621ed,_0x4ed127,_0xe0ea8a,_0x1830b3,_0x56d410,_0x321788,_0x35f220,_0x4eef5d,_0x37f7b3,_0x3004b8){this[_0x3f15('0x0')]=_0x2db670,this[_0x3f15('0x1')]=_0x5621ed,this['$link']=_0x4ed127,this['soundEngine']=_0xe0ea8a,this[_0x3f15('0x2')]=_0x1830b3,this[_0x3f15('0x3')]=_0x56d410,this[_0x3f15('0x4')]=_0x321788,this['commandEngine']=_0x35f220,this[_0x3f15('0x5')]=_0x4eef5d,this[_0x3f15('0x6')]=_0x37f7b3,this['settings']=_0x3004b8,this[_0x3f15('0x7')]=null,this['highlightedNotes']=null,this['rootNotes']=null;}[_0x3f15('0x8')](_0x1e95be){this[_0x3f15('0x7')]=_0x1e95be,this[_0x3f15('0x7')]?this[_0x3f15('0x9')][_0x3f15('0xa')](this[_0x3f15('0x7')],this['rootNotes']):this[_0x3f15('0x9')][_0x3f15('0xb')](),this[_0x3f15('0xc')]();}[_0x3f15('0xc')](){this[_0x3f15('0x7')]?this[_0x3f15('0x5')]['draw'](this[_0x3f15('0x7')],this[_0x3f15('0xd')],this[_0x3f15('0xe')]):this['pianoView']['clear']();}[_0x3f15('0xf')](_0x4cba96){if(!_0x4cba96||0x0==_0x4cba96[_0x3f15('0x10')])return null;if(this[_0x3f15('0x0')]['classList'][_0x3f15('0x11')](Config[_0x3f15('0x12')]),this[_0x3f15('0x13')]['isCommand'](_0x4cba96))return this[_0x3f15('0x13')]['isValidCommand'](_0x4cba96)&&this[_0x3f15('0x0')][_0x3f15('0x14')][_0x3f15('0x15')](Config[_0x3f15('0x12')]),null;if(this[_0x3f15('0xe')]=this[_0x3f15('0x2')]['getNotesFromQuery'](_0x4cba96),_0x4cba96[_0x3f15('0x16')](_0x3f15('0x17'))&&this[_0x3f15('0xe')][_0x3f15('0x10')]>0x0)return this[_0x3f15('0xe')];const _0xd88a73=this[_0x3f15('0x4')][_0x3f15('0x18')](_0x4cba96);if(_0xd88a73['length']>0x0)return _0xd88a73;const _0x5dbc0a=this[_0x3f15('0x3')][_0x3f15('0x18')](_0x4cba96);return _0x5dbc0a[_0x3f15('0x10')]>0x0?_0x5dbc0a:null;}['updateLink'](_0x41f98d){const _0xd49582=this['parser'][_0x3f15('0x19')](_0x41f98d);this[_0x3f15('0x1a')][_0x3f15('0x14')][_0x3f15('0x11')](Config[_0x3f15('0x1b')]),_0xd49582?this[_0x3f15('0x1a')][_0x3f15('0x1c')]=_0xd49582:this[_0x3f15('0x1a')][_0x3f15('0x14')][_0x3f15('0x15')](Config[_0x3f15('0x1b')]);}[_0x3f15('0x1d')](_0xa71fec){_0xa71fec[_0x3f15('0x16')](_0x3f15('0x1e'))?(this[_0x3f15('0x5')][_0x3f15('0x1f')]=!0x0,this[_0x3f15('0x9')]['isPlaying']||this[_0x3f15('0x9')]['play']()):(this[_0x3f15('0x5')][_0x3f15('0x1f')]=!0x1,this[_0x3f15('0x9')][_0x3f15('0x20')](),this[_0x3f15('0xd')]=null);}[_0x3f15('0x21')](){const _0x3dd058=this['$input'][_0x3f15('0x22')],_0x315581=this[_0x3f15('0xf')](_0x3dd058);this['updateLink'](_0x3dd058),this[_0x3f15('0x1d')](_0x3dd058),this[_0x3f15('0x8')](_0x315581);}['start'](){const _0x45a5e0=this[_0x3f15('0x6')][_0x3f15('0x23')](window['location'][_0x3f15('0x1c')]);_0x45a5e0&&(this[_0x3f15('0x0')][_0x3f15('0x22')]=_0x45a5e0,this[_0x3f15('0x21')]()),window[_0x3f15('0x24')]=function(){this['draw']();}[_0x3f15('0x25')](this),this[_0x3f15('0x0')][_0x3f15('0x26')]=function(_0x70e36){_0x70e36[_0x3f15('0x27')](),0xd==_0x70e36[_0x3f15('0x28')]?(this[_0x3f15('0x13')][_0x3f15('0x29')](this[_0x3f15('0x0')][_0x3f15('0x22')]),this[_0x3f15('0x0')]['classList'][_0x3f15('0x11')](Config[_0x3f15('0x12')]),this[_0x3f15('0x0')][_0x3f15('0x22')]='',this[_0x3f15('0x21')]()):0x26==_0x70e36['keyCode']?(this['$input']['value']=this[_0x3f15('0x6')][_0x3f15('0x2a')](this['$input'][_0x3f15('0x22')],0x1),this['processInput']()):0x28==_0x70e36[_0x3f15('0x28')]&&(this[_0x3f15('0x0')][_0x3f15('0x22')]=this[_0x3f15('0x6')][_0x3f15('0x2a')](this[_0x3f15('0x0')][_0x3f15('0x22')],-0x1),this[_0x3f15('0x21')]());}[_0x3f15('0x25')](this),this[_0x3f15('0x0')][_0x3f15('0x2b')]=function(_0x350918){0x26==_0x350918[_0x3f15('0x28')]?_0x350918[_0x3f15('0x27')]():0x28==_0x350918[_0x3f15('0x28')]&&_0x350918[_0x3f15('0x27')]();}[_0x3f15('0x25')](this),this[_0x3f15('0x0')][_0x3f15('0x2c')]=function(){this[_0x3f15('0x21')]();}[_0x3f15('0x25')](this),this[_0x3f15('0x1')][_0x3f15('0x2d')]=function(_0x32785c){this[_0x3f15('0x2e')][_0x3f15('0x2f')](),this[_0x3f15('0xc')]();}['bind'](this),this[_0x3f15('0x9')][_0x3f15('0x30')]=function(_0x506ea2){this['highlightedNotes']=[_0x506ea2],this[_0x3f15('0xc')]();}['bind'](this),this[_0x3f15('0x0')]['focus'](),this[_0x3f15('0xc')]();}}class CanvasHelper{constructor(_0x54db13){this[_0x3f15('0x31')]=_0x54db13,this['fillStyle']='',this[_0x3f15('0x32')]='',this[_0x3f15('0x33')]='',this[_0x3f15('0x34')]='',this['highlightSize']=0x0,this['shadowSize']=0x0;}[_0x3f15('0x35')](_0x5ebb25,_0x45205b,_0x5c44c5,_0x1eac54){this[_0x3f15('0x31')][_0x3f15('0x36')]=this[_0x3f15('0x36')],this['ctx']['fillRect'](_0x5ebb25,_0x45205b,_0x5c44c5,_0x1eac54),this[_0x3f15('0x31')]['fillStyle']=this['shadowStyle'],this[_0x3f15('0x31')][_0x3f15('0x35')](_0x5ebb25,_0x45205b+_0x1eac54-this[_0x3f15('0x37')],_0x5c44c5,this[_0x3f15('0x37')]),this[_0x3f15('0x31')][_0x3f15('0x35')](_0x5ebb25+_0x5c44c5-this[_0x3f15('0x37')],_0x45205b,this['shadowSize'],_0x1eac54);const _0x207fcb=this[_0x3f15('0x38')];this['ctx'][_0x3f15('0x39')](),this[_0x3f15('0x31')][_0x3f15('0x3a')](_0x5ebb25,_0x45205b+_0x1eac54),this['ctx'][_0x3f15('0x3b')](_0x5ebb25+_0x207fcb,_0x45205b+_0x1eac54-_0x207fcb),this[_0x3f15('0x31')]['lineTo'](_0x5ebb25+_0x207fcb,_0x45205b+_0x207fcb),this[_0x3f15('0x31')][_0x3f15('0x3b')](_0x5ebb25+_0x5c44c5-_0x207fcb,_0x45205b+_0x207fcb),this['ctx'][_0x3f15('0x3b')](_0x5ebb25+_0x5c44c5,_0x45205b),this[_0x3f15('0x31')][_0x3f15('0x3b')](_0x5ebb25,_0x45205b),this['ctx'][_0x3f15('0x3c')]();let _0x581cba=this['ctx'][_0x3f15('0x3d')](_0x5ebb25,_0x45205b,_0x5ebb25+_0x5c44c5,_0x45205b);_0x581cba[_0x3f15('0x3e')](0x0,this[_0x3f15('0x32')]),_0x581cba['addColorStop'](0.3,this['highlightSpeckStyle']),_0x581cba['addColorStop'](0x1,this[_0x3f15('0x32')]),this['ctx']['fillStyle']=_0x581cba,this[_0x3f15('0x31')]['fill']();}}class ChordEngine{constructor(_0x4ad0b2){this['parser']=_0x4ad0b2;}[_0x3f15('0x3f')](_0x2a17c4){let _0x24288a=[];const _0x505815=this[_0x3f15('0x6')][_0x3f15('0x40')](_0x2a17c4);if(!_0x505815)return[];const _0x1e2392=this['parser'][_0x3f15('0x41')](_0x505815);if(!_0x1e2392)return[];let _0x44bcae=this['parser']['findFlats'](_0x2a17c4),_0x5d4948=this[_0x3f15('0x6')][_0x3f15('0x42')](_0x2a17c4),_0x567e7b=_0x1e2392+0x4;_0x2a17c4[_0x3f15('0x16')]('m')&&!_0x2a17c4[_0x3f15('0x16')]('maj')&&(_0x567e7b=_0x1e2392+0x3),_0x2a17c4[_0x3f15('0x16')](_0x505815+'-')&&(_0x567e7b=_0x1e2392+0x3),_0x2a17c4['includes']('dim')&&(_0x567e7b=_0x1e2392+0x3),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x43'))&&(_0x567e7b=_0x1e2392+0x5),_0x2a17c4[_0x3f15('0x16')]('sus2')&&(_0x567e7b=_0x1e2392+0x2);let _0x3a6660=_0x1e2392+0x7;_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x44'))&&(_0x3a6660=_0x1e2392+0x6),_0x2a17c4[_0x3f15('0x16')]('b5')&&(_0x3a6660=_0x1e2392+0x6),_0x2a17c4[_0x3f15('0x16')]('#5')&&(_0x3a6660=_0x1e2392+0x8),_0x2a17c4['includes']('+5')&&(_0x3a6660=_0x1e2392+0x8),_0x2a17c4[_0x3f15('0x16')]('+7')&&(_0x3a6660=_0x1e2392+0x8),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x45'))&&(_0x3a6660=_0x1e2392+0x8);let _0x342e62=_0x1e2392;_0x2a17c4['includes']('6')&&(_0x342e62=_0x1e2392+0x9);let _0x53a51d=_0x1e2392;_0x2a17c4[_0x3f15('0x16')]('7')&&(_0x53a51d=_0x1e2392+0xa),_0x2a17c4[_0x3f15('0x16')]('9')&&(_0x53a51d=_0x1e2392+0xa),_0x2a17c4[_0x3f15('0x16')]('11')&&(_0x53a51d=_0x1e2392+0xa),_0x2a17c4['includes']('13')&&(_0x53a51d=_0x1e2392+0xa),_0x2a17c4[_0x3f15('0x16')]('M7')&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')]('M9')&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x46'))&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x47'))&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x48'))&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x49'))&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x4a'))&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x4b'))&&(_0x53a51d=_0x1e2392+0xb),_0x2a17c4[_0x3f15('0x16')](_0x3f15('0x44'))&&_0x53a51d==_0x1e2392+0xa&&_0x53a51d--;let _0x4b80d0=_0x1e2392;_0x44bcae['includes'](0x9)||_0x5d4948[_0x3f15('0x16')](0x9)||(_0x2a17c4['includes']('9')&&(_0x4b80d0=_0x1e2392+0xe),_0x2a17c4[_0x3f15('0x16')]('11')&&(_0x4b80d0=_0x1e2392+0xe),_0x2a17c4[_0x3f15('0x16')]('13')&&(_0x4b80d0=_0x1e2392+0xe));let _0x4cc7ea=_0x1e2392;_0x44bcae[_0x3f15('0x16')](0xb)||_0x5d4948['includes'](0xb)||(_0x2a17c4['includes']('11')&&(_0x4cc7ea=_0x1e2392+0x11),_0x2a17c4['includes']('13')&&(_0x4cc7ea=_0x1e2392+0x11));let _0x5337b3=_0x1e2392;_0x44bcae[_0x3f15('0x16')](0xd)||_0x5d4948[_0x3f15('0x16')](0xd)||_0x2a17c4[_0x3f15('0x16')]('13')&&(_0x5337b3=_0x1e2392+0x15);let _0x113bf4=function(_0x2b7583){let _0x3027d1=_0x2b7583%Config[_0x3f15('0x4c')];0x0==_0x3027d1&&(_0x3027d1=0xc),_0x24288a[_0x3f15('0x16')](_0x3027d1)||_0x24288a[_0x3f15('0x4d')](_0x3027d1);};const _0x3fc144=MusicLibrary[_0x3f15('0x4e')][_0x3f15('0x4f')];return _0x44bcae[_0x3f15('0x50')](function(_0x310abe,_0x1fb2a9,_0xccf705){let _0x101270=0x0,_0x45d69a=_0x1e2392;for(_0x101270=0x0;_0x101270<_0x310abe-0x1;_0x101270++)_0x45d69a+=_0x3fc144[_0x101270%_0x3fc144[_0x3f15('0x10')]];_0x113bf4(_0x45d69a-0x1);}),_0x5d4948['forEach'](function(_0x3bab94,_0x2283bf,_0x3d4819){let _0x1f2d4f=0x0,_0x1d0f31=_0x1e2392;for(_0x1f2d4f=0x0;_0x1f2d4f<_0x3bab94-0x1;_0x1f2d4f++)_0x1d0f31+=_0x3fc144[_0x1f2d4f%_0x3fc144[_0x3f15('0x10')]];_0x113bf4(_0x1d0f31+0x1);}),_0x113bf4(_0x1e2392),_0x113bf4(_0x567e7b),_0x113bf4(_0x3a6660),_0x113bf4(_0x342e62),_0x113bf4(_0x53a51d),_0x113bf4(_0x4b80d0),_0x113bf4(_0x4cc7ea),_0x113bf4(_0x5337b3),_0x24288a['sort']((_0x57fc09,_0x641400)=>_0x57fc09-_0x641400);}[_0x3f15('0x18')](_0x3db3b4){let _0x1698e3=[];const _0x2b2ae9=this[_0x3f15('0x6')]['findSymbols'](_0x3db3b4);return _0x2b2ae9?(_0x2b2ae9[_0x3f15('0x50')](function(_0x21ebf4,_0x48cea8,_0xf8c1d8){this[_0x3f15('0x3f')](_0x21ebf4)['forEach'](function(_0x5a5e82,_0x2bad94,_0x1681d1){_0x1698e3['includes'](_0x5a5e82)||_0x1698e3[_0x3f15('0x4d')](_0x5a5e82);});},this),_0x1698e3['sort']((_0x25ee2b,_0x4259df)=>_0x25ee2b-_0x4259df)):[];}}class CommandEngine{constructor(_0x403ba7){this[_0x3f15('0x2e')]=_0x403ba7,this[_0x3f15('0x51')]='letters',this[_0x3f15('0x52')]=_0x3f15('0x53'),this[_0x3f15('0x54')]=_0x3f15('0x55');}['isCommand'](_0x2f6ba9){if(!_0x2f6ba9)return!0x1;const _0x3f3be4=_0x2f6ba9['trim']();return _0x3f3be4[0x0]==this[_0x3f15('0x52')][0x0]||_0x3f3be4[0x0]==this[_0x3f15('0x54')][0x0];}['isValidCommand'](_0x338276){if(!this[_0x3f15('0x56')](_0x338276))return!0x1;const _0x538878=_0x338276['includes'](this[_0x3f15('0x51')]),_0x4ab60f=_0x338276[_0x3f15('0x16')](this[_0x3f15('0x52')]),_0x5f4b3b=_0x338276['includes'](this[_0x3f15('0x54')]);return _0x538878&&(_0x4ab60f||_0x5f4b3b);}['execute'](_0x106240){if(!this[_0x3f15('0x57')](_0x106240))return!0x1;const _0x2382ba=_0x106240['includes'](this[_0x3f15('0x51')]),_0x5bd674=_0x106240[_0x3f15('0x16')](this['showKeyword']),_0x5ef17f=_0x106240[_0x3f15('0x16')](this['hideKeyword']);return _0x2382ba&&(_0x5bd674?this[_0x3f15('0x2e')][_0x3f15('0x58')]=!0x0:_0x5ef17f&&(this[_0x3f15('0x2e')]['isShowingLetters']=!0x1)),!0x0;}}class Config{static get[_0x3f15('0x59')](){return 0x3;}static get[_0x3f15('0x5a')](){return 0xc;}static get[_0x3f15('0x4c')](){return this[_0x3f15('0x59')]*this['notesPerOctave'];}static get['validCommandCSSClass'](){return'valid-command';}static get['hiddenCSSClass'](){return _0x3f15('0x5b');}}document[_0x3f15('0x5c')](_0x3f15('0x5d'),function(_0x5a7148){let _0x1456eb=document[_0x3f15('0x5e')](_0x3f15('0x5f')),_0x556d88=document[_0x3f15('0x5e')](_0x3f15('0x60')),_0x271844=document[_0x3f15('0x5e')]('piano-title'),_0x180a85=document[_0x3f15('0x5e')](_0x3f15('0x61'));const _0x2afe7e=new Parser(),_0x36da8f=new Settings(),_0x3fcd0e=new PianoView(_0x556d88,_0x36da8f,_0x2afe7e),_0x2846ad=new SoundEngine(_0x2afe7e),_0x5379e5=new NoteEngine(_0x2afe7e),_0x3a04d2=new ChordEngine(_0x2afe7e),_0x1a9274=new ScaleEngine(_0x2afe7e),_0x52d96e=new CommandEngine(_0x36da8f);new App(_0x1456eb,_0x271844,_0x180a85,_0x2846ad,_0x5379e5,_0x3a04d2,_0x1a9274,_0x52d96e,_0x3fcd0e,_0x2afe7e,_0x36da8f)['start']();});class MusicLibrary{static get['scaleIntervals'](){return{'chromatic':[0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1],'minor':[0x2,0x1,0x2,0x2,0x1,0x2,0x2],'natural minor':[0x2,0x1,0x2,0x2,0x1,0x2,0x2],'major':[0x2,0x2,0x1,0x2,0x2,0x2,0x1],'ionian':[0x2,0x2,0x1,0x2,0x2,0x2,0x1],'dorian':[0x2,0x1,0x2,0x2,0x2,0x1,0x2],'phrygian':[0x1,0x2,0x2,0x2,0x1,0x2,0x2],'lydian':[0x2,0x2,0x2,0x1,0x2,0x2,0x1],'mixolydian':[0x2,0x2,0x1,0x2,0x2,0x1,0x2],'aeolian':[0x2,0x1,0x2,0x2,0x1,0x2,0x2],'locrian':[0x1,0x2,0x2,0x1,0x2,0x2,0x2],'melodic minor':[0x2,0x1,0x2,0x2,0x2,0x2,0x1],'jazz minor':[0x2,0x1,0x2,0x2,0x2,0x2,0x1],'dorian #7':[0x2,0x1,0x2,0x2,0x2,0x2,0x1],'phrygian #6':[0x1,0x2,0x2,0x2,0x2,0x1,0x2],'dorian b2':[0x1,0x2,0x2,0x2,0x2,0x1,0x2],'lydian augmented':[0x2,0x2,0x2,0x2,0x1,0x2,0x1],'lydian #5':[0x2,0x2,0x2,0x2,0x1,0x2,0x1],'overtone':[0x2,0x2,0x2,0x1,0x2,0x1,0x2],'acoustic':[0x2,0x2,0x2,0x1,0x2,0x1,0x2],'lydian dominant':[0x2,0x2,0x2,0x1,0x2,0x1,0x2],'lydian b7':[0x2,0x2,0x2,0x1,0x2,0x1,0x2],'mixolydian #4':[0x2,0x2,0x2,0x1,0x2,0x1,0x2],'mixolydian #11':[0x2,0x2,0x2,0x1,0x2,0x1,0x2],'dominant #11':[0x2,0x2,0x2,0x1,0x2,0x1,0x2],'mixolydian b6':[0x2,0x2,0x1,0x2,0x1,0x2,0x2],'mixolydian b13':[0x2,0x2,0x1,0x2,0x1,0x2,0x2],'aeolian dominant':[0x2,0x2,0x1,0x2,0x1,0x2,0x2],'aeolian major':[0x2,0x2,0x1,0x2,0x1,0x2,0x2],'melodic major':[0x2,0x2,0x1,0x2,0x1,0x2,0x2],'aeolian #3':[0x2,0x2,0x1,0x2,0x1,0x2,0x2],'locrian #2':[0x2,0x1,0x2,0x1,0x2,0x2,0x2],'half diminished':[0x2,0x1,0x2,0x1,0x2,0x2,0x2],'locrian natural 9':[0x2,0x1,0x2,0x1,0x2,0x2,0x2],'super locrian':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'altered':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'altered dominant':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'pomeroy':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'ravel':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'diminished whole tone':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'dominant whole tone':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'locrian b4':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'ionian #1':[0x1,0x2,0x1,0x2,0x2,0x2,0x2],'harmonic minor':[0x2,0x1,0x2,0x2,0x1,0x3,0x1],'aeolian #7':[0x2,0x1,0x2,0x2,0x1,0x3,0x1],'locrian #6':[0x1,0x2,0x2,0x1,0x3,0x1,0x2],'ionian #5':[0x2,0x2,0x1,0x3,0x1,0x2,0x1],'dorian #4':[0x2,0x1,0x3,0x1,0x2,0x1,0x2],'dorian #11':[0x2,0x1,0x3,0x1,0x2,0x1,0x2],'phrygian major':[0x1,0x3,0x1,0x2,0x1,0x2,0x2],'phrygian dominant':[0x1,0x3,0x1,0x2,0x1,0x2,0x2],'phrygian #3':[0x1,0x3,0x1,0x2,0x1,0x2,0x2],'lydian #2':[0x3,0x1,0x2,0x1,0x2,0x2,0x1],'alt dominant':[0x1,0x2,0x1,0x2,0x2,0x1,0x3],'mixolydian #1':[0x1,0x2,0x1,0x2,0x2,0x1,0x3],'harmonic major':[0x2,0x2,0x1,0x2,0x1,0x3,0x1],'ionian b6':[0x2,0x2,0x1,0x2,0x1,0x3,0x1],'dorian b5':[0x2,0x1,0x2,0x1,0x3,0x1,0x2],'phrygian b4':[0x1,0x2,0x1,0x3,0x1,0x2,0x2],'lydian b3':[0x2,0x1,0x3,0x1,0x2,0x2,0x1],'mixolydian b2':[0x1,0x3,0x1,0x2,0x2,0x1,0x2],'aeolian b1':[0x3,0x1,0x2,0x2,0x1,0x2,0x1],'locrian b7':[0x1,0x2,0x2,0x1,0x2,0x1,0x3],'pentatonic major':[0x2,0x2,0x3,0x2,0x3],'pentatonic minor':[0x3,0x2,0x2,0x3,0x2],'pentatonic blues':[0x3,0x2,0x1,0x1,0x3,0x2],'pentatonic neutral':[0x2,0x3,0x2,0x3,0x2],'blues':[0x3,0x2,0x1,0x1,0x3,0x2],'minor blues':[0x3,0x2,0x1,0x1,0x3,0x2],'major blues':[0x2,0x1,0x1,0x3,0x2,0x3],'whole':[0x2,0x2,0x2,0x2,0x2,0x2],'half whole':[0x1,0x2,0x1,0x2,0x1,0x2,0x1,0x2],'dominant diminished':[0x1,0x2,0x1,0x2,0x1,0x2,0x1,0x2],'whole half':[0x2,0x1,0x2,0x1,0x2,0x1,0x2,0x1],'diminished':[0x2,0x1,0x2,0x1,0x2,0x1,0x2,0x1],'algerian':[0x2,0x1,0x2,0x1,0x1,0x1,0x3,0x1],'arabic':[0x2,0x2,0x1,0x1,0x2,0x2,0x2],'byzantine':[0x1,0x3,0x1,0x2,0x1,0x3,0x2],'chinese':[0x4,0x2,0x1,0x4,0x1],'egyptian':[0x2,0x3,0x2,0x3,0x2],'eight tone spanish':[0x1,0x2,0x1,0x1,0x1,0x2,0x2,0x2],'enigmatic':[0x1,0x3,0x2,0x2,0x2,0x1,0x1],'enigmatic minor':[0x1,0x2,0x3,0x1,0x3,0x1,0x1],'geez':[0x2,0x1,0x2,0x2,0x1,0x2,0x2],'hindu':[0x2,0x2,0x1,0x2,0x1,0x2,0x2],'hirajoshi':[0x1,0x4,0x1,0x4,0x2],'hungarian':[0x2,0x1,0x3,0x1,0x1,0x2,0x1],'japanese':[0x1,0x4,0x2,0x3,0x2],'oriental':[0x1,0x3,0x1,0x1,0x3,0x1,0x2],'romanian minor':[0x2,0x1,0x3,0x1,0x2,0x1,0x2],'spanish gypsy':[0x1,0x3,0x1,0x2,0x1,0x2,0x2],'maqam':[0x1,0x3,0x1,0x2,0x1,0x3,0x1],'bebop major':[0x2,0x2,0x1,0x2,0x1,0x1,0x2,0x1],'bebop':[0x2,0x2,0x1,0x2,0x1,0x1,0x2,0x1],'bebop minor':[0x2,0x1,0x1,0x1,0x2,0x2,0x1,0x2],'bebop dominant':[0x2,0x2,0x1,0x2,0x2,0x1,0x1,0x1],'bebop dorian':[0x2,0x1,0x2,0x2,0x2,0x1,0x1,0x1],'nine tone':[0x2,0x1,0x1,0x2,0x1,0x1,0x1,0x2,0x1]};}static get['scaleNames'](){return Object[_0x3f15('0x62')](MusicLibrary['scaleIntervals'])['sort'](function(_0x479593,_0x47ce2a){return _0x47ce2a['length']-_0x479593[_0x3f15('0x10')];});}static get[_0x3f15('0x63')](){return['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];}static get[_0x3f15('0x64')](){return['C','Db','D','Eb','E','F','Gb','G','Ab','A','Bb','B'];}static get['altNoteNames'](){return['B#','_','_','_','Fb','E#','_','_','_','_','_','Cb'];}}class NoteEngine{constructor(_0x1eaf2f){this[_0x3f15('0x6')]=_0x1eaf2f;}[_0x3f15('0x3f')](_0x467c52){const _0x52ddee=this[_0x3f15('0x6')][_0x3f15('0x40')](_0x467c52);if(!_0x52ddee)return[];const _0x404086=this['parser'][_0x3f15('0x41')](_0x52ddee);return _0x404086?[_0x404086]:[];}[_0x3f15('0x18')](_0x46000f){let _0xd23b93=[];const _0x25d48e=this[_0x3f15('0x6')][_0x3f15('0x65')](_0x46000f);return _0x25d48e?(_0x25d48e[_0x3f15('0x50')](function(_0x547474,_0x6d85f4,_0xdc215b){const _0x59313e=this[_0x3f15('0x3f')](_0x547474);_0xd23b93=_0xd23b93['concat'](_0x59313e);},this),_0xd23b93):[];}}class Parser{['transposeNote'](_0x5117d3,_0x19418e){let _0x5d6e4d=MusicLibrary[_0x3f15('0x63')][_0x3f15('0x66')](_0x5117d3);if(_0x5d6e4d<0x0&&(_0x5d6e4d=MusicLibrary['flatNoteNames'][_0x3f15('0x66')](_0x5117d3)),_0x5d6e4d<0x0)return _0x5117d3;_0x5d6e4d+=_0x19418e,(_0x5d6e4d%=Config[_0x3f15('0x5a')])<0x0&&(_0x5d6e4d=Config[_0x3f15('0x5a')]+_0x5d6e4d);let _0x1569ed=_0x5117d3;return _0x1569ed=_0x19418e<0x0?MusicLibrary[_0x3f15('0x64')][_0x5d6e4d]:MusicLibrary[_0x3f15('0x63')][_0x5d6e4d];}[_0x3f15('0x2a')](_0x47832b,_0xd36cfa){if(!this[_0x3f15('0x40')](_0x47832b))return _0x47832b;let _0x59adaf=/[ABCDEFG]b?#?/g,_0x3ecd11=null,_0x4b3545=[],_0x28d8cd=[],_0x3be116=0x0;for(;null!=(_0x3ecd11=_0x59adaf[_0x3f15('0x67')](_0x47832b));)_0x4b3545[_0x3f15('0x4d')](_0x3ecd11[_0x3f15('0x68')]),_0x28d8cd[_0x3f15('0x4d')](_0x3ecd11[0x0]),_0x3be116++;let _0x5ceac7=_0x47832b,_0x140cee=0x0;for(_0x140cee=_0x3be116-0x1;_0x140cee>=0x0;_0x140cee--){const _0x47832b=_0x4b3545[_0x140cee],_0x12ff55=_0x28d8cd[_0x140cee],_0x514f56=this['transposeNote'](_0x12ff55,_0xd36cfa);_0x5ceac7=_0x5ceac7[_0x3f15('0x69')](0x0,_0x47832b)+_0x514f56+_0x5ceac7[_0x3f15('0x69')](_0x47832b+_0x12ff55[_0x3f15('0x10')]);}return _0x5ceac7;}[_0x3f15('0x6a')](_0x4e7c63,_0x247564){return!(!_0x4e7c63||!_0x247564)&&_0x4e7c63%0xc==_0x247564%0xc;}[_0x3f15('0x6b')](_0x45aa92,_0x127357){if(!_0x45aa92||!_0x127357)return!0x1;let _0x2bc020=!0x1;for(let _0xc4e3b9=0x0;_0xc4e3b9<_0x45aa92[_0x3f15('0x10')];_0xc4e3b9++){const _0x1e3f47=_0x45aa92[_0xc4e3b9];if(this[_0x3f15('0x6a')](_0x127357,_0x1e3f47)){_0x2bc020=!0x0;break;}}return _0x2bc020;}['findNotes'](_0x712cf3){if(!_0x712cf3)return null;const _0x33c980=_0x712cf3[_0x3f15('0x6c')](/[ABCDEFG]b?#?/g);return _0x33c980?_0x33c980[_0x3f15('0x6d')](function(_0x535a69){return'Cb'==_0x535a69?'B':'B#'==_0x535a69?'C':'E#'==_0x535a69?'F':'Fb'==_0x535a69?'E':_0x535a69;}):null;}['findSymbols'](_0x5a4245){if(!_0x5a4245)return null;const _0x10da1d=_0x5a4245[_0x3f15('0x6c')](/[ABCDEFG](b?#?)([^ABCDEFG])*/g);return _0x10da1d?_0x10da1d[_0x3f15('0x6d')](function(_0xc3c2fa){return _0xc3c2fa[_0x3f15('0x6e')]()[_0x3f15('0x6f')](/\s+/g,'\x20');}):null;}[_0x3f15('0x70')](_0x291d2c){return!!_0x291d2c&&_0x291d2c[_0x3f15('0x71')](/[ABCDEFG]b?#?(\s|$)/g)>=0x0;}['findRoot'](_0x5c226a){if(!_0x5c226a)return null;const _0x3c9790=_0x5c226a['match'](/[ABCDEFG]b?#?/);return _0x3c9790&&_0x3c9790[_0x3f15('0x10')]>0x0?_0x3c9790[0x0]:null;}[_0x3f15('0x72')](_0x4885dd){if(!_0x4885dd)return null;const _0xe133b8=_0x4885dd[_0x3f15('0x6c')](/[ABCDEFG](#|b)?\d+/);if(!_0xe133b8||0x0==_0xe133b8[_0x3f15('0x10')])return null;const _0x369447=_0xe133b8[0x0][_0x3f15('0x6c')](/\d+/);return _0x369447&&_0x369447[_0x3f15('0x10')]>0x0?parseInt(_0x369447[0x0],0xa):null;}[_0x3f15('0x41')](_0x535b80){let _0x5075f1=MusicLibrary[_0x3f15('0x63')]['indexOf'](_0x535b80);return _0x5075f1<0x0&&(_0x5075f1=MusicLibrary['flatNoteNames'][_0x3f15('0x66')](_0x535b80)),_0x5075f1<0x0&&(_0x5075f1=MusicLibrary[_0x3f15('0x73')][_0x3f15('0x66')](_0x535b80)),_0x5075f1<0x0?null:_0x5075f1+0x1;}[_0x3f15('0x74')](_0x473c24){if(!_0x473c24)return[];const _0x1b2a12=_0x473c24[_0x3f15('0x6f')](/([ABCDEFG](b|#)?)-?\d+/g,'')[_0x3f15('0x6c')](/(b|-)\d+/g);if(!_0x1b2a12)return[];const _0x31510b=[];return _0x1b2a12[_0x3f15('0x50')](function(_0x4e771a,_0x23675a,_0x410b14){const _0x50cec8=parseInt(_0x4e771a[_0x3f15('0x75')](0x1),0xa);_0x31510b[_0x3f15('0x16')](_0x50cec8)||_0x31510b[_0x3f15('0x4d')](_0x50cec8);}),_0x31510b;}[_0x3f15('0x42')](_0xfbd789){if(!_0xfbd789)return[];const _0x12da92=_0xfbd789[_0x3f15('0x6f')](/([ABCDEFG](b|#)?)\+?\d+/g,'')[_0x3f15('0x6c')](/(#|\+)\d+/g);if(!_0x12da92)return[];const _0x69ab5d=[];return _0x12da92['forEach'](function(_0x217157,_0x50a1d4,_0x164c91){const _0x460a82=parseInt(_0x217157[_0x3f15('0x75')](0x1),0xa);_0x69ab5d[_0x3f15('0x16')](_0x460a82)||_0x69ab5d[_0x3f15('0x4d')](_0x460a82);}),_0x69ab5d;}['getQueryFromURL'](_0x33b08c){if(!_0x33b08c)return null;let _0x53b69f=new RegExp('[?&]q(=([^&#]*)|&|#|$)')[_0x3f15('0x67')](_0x33b08c);if(!_0x53b69f)return null;if(!_0x53b69f[0x2])return null;const _0x34056b=decodeURIComponent(_0x53b69f[0x2][_0x3f15('0x6f')](/\+/g,'\x20'))[_0x3f15('0x6e')]();return 0x0==_0x34056b[_0x3f15('0x10')]?null:_0x34056b;}['getURLFromQuery'](_0x7d4e3e){return _0x7d4e3e&&0x0!=_0x7d4e3e['trim']()[_0x3f15('0x10')]?_0x3f15('0x76')+encodeURIComponent(_0x7d4e3e[_0x3f15('0x6e')]()):null;}}class PianoView{constructor(_0x45cd87,_0x4d34c2,_0x473991){this[_0x3f15('0x77')]=_0x45cd87,this['settings']=_0x4d34c2,this['parser']=_0x473991,this[_0x3f15('0x1f')]=!0x1;}[_0x3f15('0xb')](){this[_0x3f15('0xc')]([],[],[]);}[_0x3f15('0x78')](_0x3e6733,_0x13861f,_0x5dec5f,_0x5bcca3,_0x268abb,_0x1544cf,_0x280ee7){const _0x2d2485=Math['max'](_0x1544cf,_0x280ee7);let _0x3153b9={'x':0x0,'y':0x0},_0x3ff44e={'x':0x0,'y':0x0};_0x3e6733[_0x3f15('0x39')]();let _0x2a7f74=_0x13861f,_0x108460=_0x5dec5f+_0x268abb;_0x3e6733[_0x3f15('0x3a')](_0x2a7f74,_0x108460),_0x2a7f74+=_0x2d2485,_0x108460+=_0x2d2485,_0x3153b9['x']=0.5*_0x2a7f74,_0x3153b9['y']=0.5*_0x108460,_0x3e6733[_0x3f15('0x3b')](_0x2a7f74,_0x108460),_0x2a7f74+=_0x5bcca3,_0x108460-=_0x268abb,_0x3e6733['lineTo'](_0x2a7f74,_0x108460),_0x2a7f74=_0x13861f+_0x5bcca3,_0x108460=_0x5dec5f,_0x3ff44e['x']=0.5*_0x2a7f74,_0x3ff44e['y']=0.5*_0x108460,_0x3e6733[_0x3f15('0x3b')](_0x2a7f74,_0x108460),_0x3e6733[_0x3f15('0x3c')]();let _0x39f43c=_0x3e6733[_0x3f15('0x3d')](_0x3153b9['x'],_0x3153b9['y'],_0x3ff44e['x'],_0x3ff44e['y']);_0x39f43c[_0x3f15('0x3e')](0x0,this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x7a')]),_0x39f43c[_0x3f15('0x3e')](0x1,this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x7b')]),_0x3e6733[_0x3f15('0x36')]=_0x39f43c,_0x3e6733[_0x3f15('0x7c')]();}['draw'](_0x2b52ce,_0x150b38,_0x1b43c7){if(!this[_0x3f15('0x77')][_0x3f15('0x7d')])return;document[_0x3f15('0x7e')]['classList']='',document[_0x3f15('0x7e')]['classList'][_0x3f15('0x15')](this[_0x3f15('0x2e')]['activeTheme']()['cssClass']);const _0x50a241=window[_0x3f15('0x7f')],_0x3017c5=window[_0x3f15('0x80')],_0x260ecc=_0x50a241/0x2-0x96,_0x1b516e=_0x3017c5/0x2-0x28;this[_0x3f15('0x77')]['width']=_0x50a241,this[_0x3f15('0x77')][_0x3f15('0x81')]=_0x3017c5;const _0x1d92c9=_0x260ecc+0x8,_0x257908=_0x1b516e+0x23,_0x5d1248=Config[_0x3f15('0x59')],_0x2cf657=Config['notesPerOctave'],_0x500ebb=[0x1,0x3,0x5,0x6,0x8,0xa,0xc],_0x10148d=[0x2,0x4,0x7,0x9,0xb],_0x1f3b3f=0x7*_0x5d1248,_0x1b7e6d=0x5*_0x5d1248,_0x1ba835=0x11c/_0x1f3b3f,_0x1e5638=0.6*_0x1ba835,_0x9f704c=this['$canvas'][_0x3f15('0x7d')]('2d');_0x9f704c[_0x3f15('0x36')]=this['settings'][_0x3f15('0x79')]()[_0x3f15('0x82')],_0x9f704c[_0x3f15('0x35')](0x0,0x0,_0x50a241,_0x3017c5),this[_0x3f15('0x78')](_0x9f704c,_0x260ecc,_0x1b516e,0x12c,0x50,_0x50a241,_0x3017c5);const _0x4c7ec0=new CanvasHelper(_0x9f704c);_0x4c7ec0[_0x3f15('0x36')]=this[_0x3f15('0x2e')]['activeTheme']()[_0x3f15('0x83')],_0x4c7ec0[_0x3f15('0x32')]=this['settings'][_0x3f15('0x79')]()[_0x3f15('0x84')],_0x4c7ec0[_0x3f15('0x34')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x85')],_0x4c7ec0['shadowStyle']=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x86')],_0x4c7ec0[_0x3f15('0x38')]=0x2,_0x4c7ec0[_0x3f15('0x37')]=0x2,_0x4c7ec0['fillRect'](_0x260ecc,_0x1b516e,0x12c,0x50),_0x9f704c['fillStyle']=this['settings'][_0x3f15('0x79')]()[_0x3f15('0x87')],_0x9f704c[_0x3f15('0x35')](_0x1d92c9,_0x257908,0x11c,0x28),_0x9f704c[_0x3f15('0x39')](),_0x9f704c['moveTo'](_0x1d92c9+0x1,_0x1b516e+0x50-0x5),_0x9f704c[_0x3f15('0x3b')](_0x1d92c9+0x5+0x1,_0x1b516e+0x50),_0x9f704c[_0x3f15('0x3b')](_0x260ecc+0x12c,_0x1b516e+0x50),_0x9f704c['lineTo'](_0x260ecc+0x12c-0x8,_0x1b516e+0x50-0x5),_0x9f704c[_0x3f15('0x3c')](),_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x86')],_0x9f704c[_0x3f15('0x7c')]();let _0x2af199=0x32;for(let _0x2b52ce=0x0;_0x2b52ce<0x3;_0x2b52ce++)_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()['pianoStripeColor'],_0x9f704c['fillRect'](_0x260ecc+0x12c-_0x2af199,_0x1b516e+0x2,0x5,0x21),_0x9f704c[_0x3f15('0x36')]=this['settings'][_0x3f15('0x79')]()[_0x3f15('0x88')],_0x9f704c[_0x3f15('0x35')](_0x260ecc+0x12c-_0x2af199,_0x1b516e,0x5,0x2),_0x2af199-=0xa;const _0x247d18=0.70710678118;let _0xba0375=0x14;for(let _0x2b52ce=0x0;_0x2b52ce<0x3;_0x2b52ce++){const _0x2b52ce=_0xba0375,_0x150b38=18.5,_0x1b43c7=_0x2b52ce-0x6*_0x247d18,_0x24401b=_0x150b38+0x6*_0x247d18,_0x508fcb=_0x1b43c7+(0x23-_0x24401b),_0x1265ab=0x23,_0x1f402d=_0x2b52ce+0x6*_0x247d18,_0x575e11=_0x150b38-0x6*_0x247d18,_0x338ea9=_0x1f402d+(0x23-_0x575e11),_0x1ba320=0x23;_0x9f704c[_0x3f15('0x39')](),_0x9f704c[_0x3f15('0x3a')](_0x260ecc+_0x1b43c7,_0x1b516e+_0x24401b),_0x9f704c['lineTo'](_0x260ecc+_0x508fcb,_0x1b516e+_0x1265ab),_0x9f704c['lineTo'](_0x260ecc+_0x338ea9,_0x1b516e+_0x1ba320),_0x9f704c[_0x3f15('0x3b')](_0x260ecc+_0x1f402d,_0x1b516e+_0x575e11),_0x9f704c['closePath'](),_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x89')],_0x9f704c[_0x3f15('0x7c')]();let _0x1603c6=_0x9f704c['createLinearGradient'](_0x260ecc+_0x2b52ce-0x6,_0x1b516e+_0x150b38-0x6,_0x260ecc+_0x2b52ce+0x6,_0x1b516e+_0x150b38+0x6);_0x1603c6[_0x3f15('0x3e')](0x0,this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x8a')]),_0x1603c6[_0x3f15('0x3e')](0x1,this[_0x3f15('0x2e')]['activeTheme']()[_0x3f15('0x8b')]),_0x9f704c[_0x3f15('0x36')]=_0x1603c6,_0x9f704c['beginPath'](),_0x9f704c['arc'](_0x260ecc+_0x2b52ce,_0x1b516e+_0x150b38,0x6,0x0,0x2*Math['PI'],!0x1),_0x9f704c['closePath'](),_0x9f704c['fill'](),_0x9f704c['fillStyle']=this['settings']['activeTheme']()[_0x3f15('0x8c')],_0x9f704c['beginPath'](),_0x9f704c['arc'](_0x260ecc+_0x2b52ce,_0x1b516e+_0x150b38,0x4,0x0,0x2*Math['PI'],!0x1),_0x9f704c[_0x3f15('0x3c')](),_0x9f704c[_0x3f15('0x7c')](),_0xba0375+=0x16;}_0x9f704c[_0x3f15('0x39')](),_0x9f704c[_0x3f15('0x8d')](_0x260ecc+0x12c-0xc,_0x1b516e+0xc,0x2,0x0,0x2*Math['PI'],!0x1),_0x9f704c[_0x3f15('0x3c')](),_0x9f704c[_0x3f15('0x8e')]=this['settings'][_0x3f15('0x79')]()[_0x3f15('0x8f')],_0x9f704c[_0x3f15('0x90')]=0x1,this[_0x3f15('0x1f')]?_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x91')]:_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()['pianoLEDOffColor'],_0x9f704c['fill'](),_0x9f704c[_0x3f15('0x92')]();let _0x4041f5=0x0,_0x3e338a=0x0;for(_0x4041f5=0x0;_0x4041f5<_0x1f3b3f;_0x4041f5++){_0x3e338a=Math[_0x3f15('0x93')](_0x4041f5/0x7);const _0xb842c=_0x4041f5*_0x1ba835+_0x1d92c9+0x1,_0x49b9c9=_0x257908,_0x4d6e2c=_0x1ba835-0x1,_0x102bb2=0x28,_0x2d6efc=_0x500ebb[_0x4041f5%_0x500ebb[_0x3f15('0x10')]]+_0x3e338a*_0x2cf657;let _0x547eb3=this['settings'][_0x3f15('0x79')]()['pianoDarkTextColor'];if(_0x2b52ce[_0x3f15('0x16')](_0x2d6efc)){_0x547eb3=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x94')];let _0x2b52ce=this[_0x3f15('0x2e')]['activeTheme']()[_0x3f15('0x95')],_0x547e13=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x96')];_0x150b38&&_0x150b38[_0x3f15('0x16')](_0x2d6efc)&&(_0x2b52ce=this[_0x3f15('0x2e')]['activeTheme']()['pianoNoteHighlightedColor'],_0x547e13=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x97')]),_0x9f704c[_0x3f15('0x36')]=_0x2b52ce,_0x9f704c['fillRect'](_0xb842c,_0x49b9c9,_0x4d6e2c,_0x102bb2),_0x9f704c[_0x3f15('0x36')]=_0x547e13,_0x9f704c['fillRect'](_0xb842c,_0x49b9c9,_0x4d6e2c,0x2),_0x9f704c[_0x3f15('0x39')](),_0x9f704c['moveTo'](_0xb842c,_0x49b9c9),_0x9f704c[_0x3f15('0x3b')](_0xb842c,_0x49b9c9+_0x102bb2),_0x9f704c[_0x3f15('0x3b')](_0xb842c+_0x4d6e2c/0x3,_0x49b9c9+_0x102bb2),_0x9f704c[_0x3f15('0x3b')](_0xb842c+0x2,_0x49b9c9),_0x9f704c[_0x3f15('0x3c')](),_0x9f704c[_0x3f15('0x36')]=_0x547e13,_0x9f704c[_0x3f15('0x7c')](),this[_0x3f15('0x6')]['includesRoot'](_0x1b43c7,_0x2d6efc)&&(_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x98')],_0x9f704c['beginPath'](),_0x9f704c[_0x3f15('0x8d')](_0xb842c+_0x4d6e2c/0x2,_0x49b9c9+_0x102bb2-0x6,0x3,0x0,0x2*Math['PI'],!0x1),_0x9f704c['closePath'](),_0x9f704c[_0x3f15('0x7c')]());}else _0x9f704c['fillStyle']=this['settings'][_0x3f15('0x79')]()[_0x3f15('0x99')],_0x9f704c[_0x3f15('0x35')](_0xb842c,_0x49b9c9,_0x4d6e2c,_0x102bb2),_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x9a')],_0x9f704c['fillRect'](_0xb842c,_0x49b9c9,_0x4d6e2c,0x2);if(this['settings'][_0x3f15('0x58')]){let _0x2b52ce=['C','D','E','F','G','A','B'];_0x9f704c['font']=this[_0x3f15('0x2e')]['activeTheme']()[_0x3f15('0x9b')],_0x9f704c[_0x3f15('0x36')]=_0x547eb3,_0x9f704c[_0x3f15('0x9c')](_0x2b52ce[_0x4041f5%_0x2b52ce[_0x3f15('0x10')]],0x3+_0xb842c,_0x49b9c9+_0x102bb2-0x3);}}const _0x29dbdb=[0x1,0x1,0x2,0x2,0x2];_0x3e338a=0x0;const _0x1b2f4d=0x11c/_0x5d1248;for(_0x4041f5=0x0;_0x4041f5<_0x1b7e6d;_0x4041f5++){_0x3e338a=Math[_0x3f15('0x93')](_0x4041f5/0x5);const _0x3a8ed0=_0x4041f5%_0x29dbdb['length'],_0x2e7712=_0x3e338a*_0x1b2f4d+(_0x3a8ed0+_0x29dbdb[_0x3a8ed0])*_0x1ba835-_0x1e5638/0x2+_0x1d92c9,_0x7201e7=_0x257908,_0x5ad630=_0x1e5638,_0x509d8b=0x1c,_0x22b4bf=_0x10148d[_0x4041f5%_0x10148d['length']]+_0x3e338a*_0x2cf657;if(_0x2b52ce['includes'](_0x22b4bf)){let _0x2b52ce=this[_0x3f15('0x2e')]['activeTheme']()[_0x3f15('0x95')],_0x3c6072=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x96')];_0x150b38&&_0x150b38[_0x3f15('0x16')](_0x22b4bf)&&(_0x2b52ce=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x9d')],_0x3c6072=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x97')]),_0x9f704c[_0x3f15('0x36')]=_0x2b52ce,_0x9f704c['fillRect'](_0x2e7712,_0x7201e7,_0x5ad630,_0x509d8b),_0x9f704c[_0x3f15('0x36')]=_0x3c6072,_0x9f704c[_0x3f15('0x35')](_0x2e7712,_0x7201e7,_0x5ad630,0x2),_0x9f704c[_0x3f15('0x35')](_0x2e7712,_0x7201e7,0x2,_0x509d8b),_0x9f704c[_0x3f15('0x35')](_0x2e7712,_0x7201e7+_0x509d8b-0x2,_0x5ad630,0x2),this[_0x3f15('0x6')][_0x3f15('0x6b')](_0x1b43c7,_0x22b4bf)&&(_0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x98')],_0x9f704c[_0x3f15('0x39')](),_0x9f704c[_0x3f15('0x8d')](_0x2e7712+_0x5ad630/0x2,_0x7201e7+_0x509d8b-0x6,0x2,0x0,0x2*Math['PI'],!0x1),_0x9f704c[_0x3f15('0x3c')](),_0x9f704c[_0x3f15('0x7c')]());}else _0x9f704c[_0x3f15('0x36')]=this[_0x3f15('0x2e')][_0x3f15('0x79')]()[_0x3f15('0x9e')],_0x9f704c['fillRect'](_0x2e7712,_0x7201e7,_0x5ad630,_0x509d8b),_0x9f704c[_0x3f15('0x36')]=this['settings'][_0x3f15('0x79')]()[_0x3f15('0x9f')],_0x9f704c[_0x3f15('0x35')](_0x2e7712,_0x7201e7+_0x509d8b-0x4,_0x5ad630,0x4);}}}class ScaleEngine{constructor(_0x5050c9){this[_0x3f15('0x6')]=_0x5050c9;}[_0x3f15('0xa0')](_0x2632c7){return new RegExp(_0x3f15('0xa1')+MusicLibrary['scaleNames'][_0x3f15('0xa2')]('|')+')','gi')[_0x3f15('0xa3')](_0x2632c7);}[_0x3f15('0x3f')](_0x58374c){if(!this['isScale'](_0x58374c))return[];const _0x5bb4d9=this['parser']['findRoot'](_0x58374c);if(!_0x5bb4d9)return[];const _0x486f5d=this['parser'][_0x3f15('0x41')](_0x5bb4d9);if(!_0x486f5d)return[];let _0xe908e1=[];const _0x2b5031=MusicLibrary[_0x3f15('0xa4')];for(let _0x53031b in _0x2b5031){const _0xb50b31=_0x2b5031[_0x53031b];if(_0x58374c[_0x3f15('0xa5')]()[_0x3f15('0x16')](_0xb50b31)){let _0x58374c=_0x486f5d;MusicLibrary[_0x3f15('0x4e')][_0xb50b31][_0x3f15('0x50')](function(_0x5bdbb8,_0x4cb4ff,_0x3baaf8){_0xe908e1[_0x3f15('0x4d')](_0x58374c),_0x58374c+=_0x5bdbb8;});break;}}let _0x5f519d=_0xe908e1[_0x3f15('0x75')](0x0),_0x281f2f=0x1;for(_0x281f2f=0x1;_0x281f2f<Config[_0x3f15('0x59')];_0x281f2f++)_0x5f519d=_0x5f519d['map'](function(_0x1d0dff){const _0x115415=_0x1d0dff+Config[_0x3f15('0x5a')];return _0x115415==Config[_0x3f15('0x4c')]?_0x115415:_0x115415%Config[_0x3f15('0x4c')];}),_0xe908e1=_0xe908e1[_0x3f15('0xa6')](_0x5f519d);return _0xe908e1[_0x3f15('0xa7')]((_0x53930b,_0x541191)=>_0x53930b-_0x541191);}[_0x3f15('0x18')](_0xf5f8a9){let _0x56efc9=[];const _0x1604ba=this[_0x3f15('0x6')][_0x3f15('0x65')](_0xf5f8a9);return _0x1604ba?(_0x1604ba[_0x3f15('0x50')](function(_0x213d37,_0x81a6c3,_0x462529){this[_0x3f15('0x3f')](_0x213d37)['forEach'](function(_0x7199aa,_0x33ee25,_0x2c2cf8){_0x56efc9['includes'](_0x7199aa)||_0x56efc9[_0x3f15('0x4d')](_0x7199aa);});},this),_0x56efc9['sort']((_0xc7fb8e,_0x27f4fe)=>_0xc7fb8e-_0x27f4fe)):[];}}class Settings{constructor(){this[_0x3f15('0x58')]=!0x1,this['activeThemeIndex']=0x0;}[_0x3f15('0x79')](){return Themes[_0x3f15('0xa8')][this['activeThemeIndex']];}['toggleTheme'](){this['activeThemeIndex']++,this[_0x3f15('0xa9')]>=Themes[_0x3f15('0xa8')][_0x3f15('0x10')]&&(this[_0x3f15('0xa9')]=0x0);}}class SoundEngine{constructor(_0x366291){this[_0x3f15('0xaa')]=new Tone[(_0x3f15('0xab'))]()[_0x3f15('0xac')](),this[_0x3f15('0x30')]=null,this['parser']=_0x366291,this['baseOctave']=0x4,this[_0x3f15('0xad')]=!0x1;}[_0x3f15('0xae')](_0x3f3594){const _0x15c62d=_0x3f3594-0x1,_0x1e0a8c=Math['floor'](_0x15c62d/0xc)+this['baseOctave'],_0x2ab6a8=_0x15c62d%MusicLibrary[_0x3f15('0x64')][_0x3f15('0x10')];return MusicLibrary[_0x3f15('0x64')][_0x2ab6a8]+_0x1e0a8c[_0x3f15('0xaf')]();}[_0x3f15('0x41')](_0x3b50f6){const _0x4b510f=this['parser']['findRoot'](_0x3b50f6);let _0x2e966a=this[_0x3f15('0x6')][_0x3f15('0x72')](_0x3b50f6);return _0x2e966a?_0x2e966a-=this[_0x3f15('0xb0')]:_0x2e966a=0x0,this[_0x3f15('0x6')][_0x3f15('0x41')](_0x4b510f)+_0x2e966a*Config[_0x3f15('0x5a')];}['clear'](){this[_0x3f15('0xb1')]&&this[_0x3f15('0xb1')][_0x3f15('0xb2')]();}[_0x3f15('0xa')](_0x24a512,_0x2ab56b){const _0x4e762c=this['isPlaying'];this[_0x3f15('0x20')]();let _0x3445b2=-0x1;for(let _0x562737 in _0x2ab56b)if((_0x3445b2=_0x24a512[_0x3f15('0x66')](_0x2ab56b[_0x562737]))>=0x0)break;_0x3445b2<0x0&&(_0x3445b2=0x0);let _0x5867cc=[],_0x25954f=_0x3445b2;for(let _0x2ab56b in _0x24a512){const _0x2ab56b=this[_0x3f15('0xae')](_0x24a512[_0x25954f]);_0x5867cc[_0x3f15('0x4d')](_0x2ab56b),++_0x25954f>=_0x24a512[_0x3f15('0x10')]&&(_0x25954f=0x0);}const _0x549705=this;this[_0x3f15('0xb1')]=new Tone['Sequence'](function(_0x2f8e2c,_0x2fe4ad){_0x549705[_0x3f15('0xaa')][_0x3f15('0xb3')](_0x2fe4ad,'8n',_0x2f8e2c),_0x549705[_0x3f15('0x30')]&&_0x549705[_0x3f15('0x30')](_0x549705['noteStringToIndex'](_0x2fe4ad));},_0x5867cc,'4n'),_0x4e762c&&this[_0x3f15('0x1e')]();}[_0x3f15('0x1e')](){this[_0x3f15('0xad')]=!0x0,this[_0x3f15('0xb1')]&&this['sequence'][_0x3f15('0xb4')](),Tone[_0x3f15('0xb5')]['start']();}[_0x3f15('0x20')](){this[_0x3f15('0xad')]=!0x1,this[_0x3f15('0xb1')]&&(this[_0x3f15('0xb1')][_0x3f15('0x20')](),this['sequence'][_0x3f15('0xb2')](),this['sequence']['dispose']()),Tone[_0x3f15('0xb5')]['stop'](),this[_0x3f15('0xb1')]=null;}}class Themes{static get[_0x3f15('0xa8')](){return[ThemeRed,ThemeBlue];}}class ThemeRed{static get['cssClass'](){return _0x3f15('0xb6');}static get[_0x3f15('0x83')](){return _0x3f15('0xb7');}static get[_0x3f15('0x84')](){return _0x3f15('0xb8');}static get[_0x3f15('0x85')](){return _0x3f15('0xb9');}static get[_0x3f15('0x86')](){return'#b23b3b';}static get['pianoKeybedBackgroundColor'](){return _0x3f15('0xba');}static get[_0x3f15('0xbb')](){return _0x3f15('0xbc');}static get['pianoLightTextColor'](){return _0x3f15('0xbd');}static get[_0x3f15('0x95')](){return _0x3f15('0xbe');}static get['pianoNoteSelectedShadowColor'](){return _0x3f15('0xbf');}static get[_0x3f15('0x9d')](){return _0x3f15('0xc0');}static get['pianoNoteHighlightedShadowColor'](){return'#13b4db';}static get[_0x3f15('0x98')](){return _0x3f15('0xc1');}static get['pianoWhiteNoteColor'](){return _0x3f15('0xc1');}static get['pianoWhiteNoteShadowColor'](){return _0x3f15('0xc2');}static get[_0x3f15('0x9e')](){return _0x3f15('0xc3');}static get[_0x3f15('0x9f')](){return _0x3f15('0xc4');}static get[_0x3f15('0x9b')](){return'8px\x20sans-serif';}static get[_0x3f15('0xc5')](){return _0x3f15('0xc6');}static get[_0x3f15('0x88')](){return'#e6a9a9';}static get['pianoInnerKnobColor'](){return _0x3f15('0xc7');}static get['pianoOuterKnobColor'](){return _0x3f15('0xc8');}static get['pianoOuterKnobHighlightColor'](){return _0x3f15('0xc9');}static get[_0x3f15('0x89')](){return _0x3f15('0xca');}static get[_0x3f15('0x91')](){return _0x3f15('0xcb');}static get['pianoLEDOffColor'](){return _0x3f15('0xc3');}static get[_0x3f15('0x8f')](){return _0x3f15('0xcc');}static get[_0x3f15('0x82')](){return _0x3f15('0xcd');}static get[_0x3f15('0x7b')](){return _0x3f15('0xce');}static get[_0x3f15('0x7a')](){return'#7CBFDA';}}class ThemeBlue{static get[_0x3f15('0xcf')](){return _0x3f15('0xd0');}static get[_0x3f15('0x83')](){return _0x3f15('0xd1');}static get[_0x3f15('0x84')](){return'#b3d4f0';}static get['pianoHighlightSpeckColor'](){return _0x3f15('0xd2');}static get[_0x3f15('0x86')](){return'#307bbc';}static get[_0x3f15('0xbb')](){return'#888';}static get[_0x3f15('0x94')](){return _0x3f15('0xbd');}static get['pianoNoteSelectedColor'](){return _0x3f15('0xbe');}static get[_0x3f15('0x96')](){return'#077c9f';}static get['pianoNoteHighlightedColor'](){return _0x3f15('0xc0');}static get[_0x3f15('0x97')](){return _0x3f15('0xd3');}static get[_0x3f15('0x98')](){return _0x3f15('0xc1');}static get[_0x3f15('0x99')](){return _0x3f15('0xc1');}static get[_0x3f15('0x9a')](){return'#CCC';}static get[_0x3f15('0x9e')](){return _0x3f15('0xc3');}static get[_0x3f15('0x9f')](){return'#555';}static get[_0x3f15('0x9b')](){return _0x3f15('0xd4');}static get[_0x3f15('0xc5')](){return'#97c7f0';}static get['pianoStripeHighlightColor'](){return _0x3f15('0xd5');}static get[_0x3f15('0x8c')](){return _0x3f15('0xd6');}static get[_0x3f15('0x8b')](){return'#84c6ff';}static get['pianoOuterKnobHighlightColor'](){return _0x3f15('0xc9');}static get[_0x3f15('0x89')](){return _0x3f15('0xd7');}static get[_0x3f15('0x91')](){return'#fffa80';}static get[_0x3f15('0xd8')](){return _0x3f15('0xc3');}static get[_0x3f15('0x8f')](){return _0x3f15('0xd9');}static get[_0x3f15('0x82')](){return _0x3f15('0xda');}static get[_0x3f15('0x7b')](){return _0x3f15('0xdb');}static get[_0x3f15('0x7a')](){return'#e2988e';}}